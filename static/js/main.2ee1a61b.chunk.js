(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(37)},32:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var i=a(0),s=a.n(i),n=a(16),r=a.n(n),o=(a(32),a(5)),l=a(6),c=a(8),p=a(7),u=a(9),d=a(14),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleClick=function(e){a.props.pressKey({displayStatus:"",displayValue:a.state.value}),a.props.stopTimer(),a.props.startTimer(),a.props.stopBacklightTimer(),a.props.changeDisplayBacklight("display__wrapper--active"),a.props.startBacklightTimer("")},a.state={symbol:a.props.content.symbol,value:a.props.content.value},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"A"===this.state.symbol||"B"===this.state.symbol?s.a.createElement("div",{className:"keyboard__button",onClick:this.handleClick},s.a.createElement("p",{className:"text--large align--center"},this.state.value),s.a.createElement("p",{className:"keyboard__symbol align--right"},this.state.symbol)):""!==this.state.symbol?s.a.createElement("div",{className:"keyboard__button",onClick:this.handleClick},s.a.createElement("p",{className:"text--large align--center"},this.state.value),s.a.createElement("p",{className:"keyboard__symbol align--right"},s.a.createElement("i",{className:"fas fa-long-arrow-alt-"+this.state.symbol}))):s.a.createElement("div",{className:"keyboard__button",onClick:this.handleClick},s.a.createElement("p",{className:"text--large align--center"},this.state.value))}}]),t}(i.Component),h=Object(d.b)(function(e){return e},function(e){return{pressKey:function(t){return e({type:"PRESS_KEY",payload:t})},startTimer:function(){return e({type:"START_TIMER",payload:{actionName:"PROCESS_INPUT",timerName:"buttonTimer",timerInterval:1200,timerPeriod:1}})},stopTimer:function(){return e({type:"STOP_TIMER",payload:{timerName:"buttonTimer"}})},startBacklightTimer:function(t){return e({type:"START_TIMER",payload:{actionName:"CHANGE_DISPLAY_BACKLIGHT",timerName:"backlightTimer",actionPayload:t,timerInterval:5e3,timerPeriod:1}})},stopBacklightTimer:function(){return e({type:"STOP_TIMER",payload:{timerName:"backlightTimer"}})},changeDisplayBacklight:function(t){return e({type:"CHANGE_DISPLAY_BACKLIGHT",payload:t})}}})(y),m=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={button:[{id:1,value:"L",symbol:"A"},{id:2,value:"0",symbol:""},{id:3,value:"*",symbol:"B"},{id:4,value:"3",symbol:""},{id:5,value:"2",symbol:"down"},{id:6,value:"1",symbol:""},{id:7,value:"6",symbol:"right"},{id:8,value:"5",symbol:""},{id:9,value:"4",symbol:"left"},{id:10,value:"9",symbol:""},{id:11,value:"8",symbol:"up"},{id:12,value:"7",symbol:""}].reverse()},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"keyboard"},this.state.button.map(function(e){return s.a.createElement(h,{key:e.id,content:e})}))}}]),t}(i.Component),k=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.validationRequest&&e.validationRequest!==this.props.validationRequest&&this.props.sendValidationParam(this.props.displayValue),""!==this.props.savedCode&&e.savedCode!==this.props.savedCode&&this.props.sendPassCode(this.props.savedCode),this.props.APIRequest&&e.APIRequest!==this.props.APIRequest&&this.props.sendAPICode(this.props.displayValue)}},{key:"render",value:function(){return""===this.props.displayValue?s.a.createElement("div",{className:"display__wrapper "+this.props.backgroundStatus},s.a.createElement("input",{className:"display__input display__input--top text--regular",disabled:!0,value:this.props.lockStatus,type:"text"}),s.a.createElement("input",{className:"display__input display__input--bottom text--large align--right",disabled:!0,value:this.props.displayStatus,type:"text"})):""!==this.props.displayValue&&""!==this.props.displayStatus?s.a.createElement("div",{className:"display__wrapper "+this.props.backgroundStatus},s.a.createElement("input",{className:"display__input display__input--top text--regular",disabled:!0,value:this.props.lockStatus,type:"text"}),s.a.createElement("input",{className:"display__input display__input--bottom text--large align--right",disabled:!0,value:this.props.displayStatus,type:"text"})):""!==this.props.displayValue?s.a.createElement("div",{className:"display__wrapper "+this.props.backgroundStatus},s.a.createElement("input",{className:"display__input display__input--top text--regular",disabled:!0,value:this.props.lockStatus,type:"text"}),s.a.createElement("input",{className:"display__input display__input--bottom text--large align--right",disabled:!0,value:this.props.displayValue,type:"text"})):void 0}}]),t}(i.Component),b=Object(d.b)(function(e){return{backgroundStatus:e.displayReducer.backgroundStatus,lockStatus:e.displayReducer.lockStatus,displayStatus:e.displayReducer.displayStatus,displayValue:e.displayReducer.displayValue,savedCode:e.displayReducer.savedCode,error:e.displayReducer.error,unlockInit:e.displayReducer.unlockInit,validationRequest:e.displayReducer.validationRequest,APIRequest:e.displayReducer.APIRequest}},function(e){return{changeDisplayBacklight:function(t){return e({type:"CHANGE_DISPLAY_BACKLIGHT",payload:t})},startBacklightTimer:function(){return e({type:"START_TIMER",payload:{actionName:"CHANGE_DISPLAY_BACKLIGHT",actionPayload:{},timerName:"backlightTimer",timerInterval:5}})},stopBacklightTimer:function(){return e({type:"STOP_TIMER",payload:{timerName:"backlightTimer"}})},sendPassCode:function(t){return e({type:"SAVE_CODE",payload:t})},sendValidationParam:function(t){return e({type:"VALIDATION",payload:t})},sendAPICode:function(t){return e({type:"GET_API_CODE",payload:t})}}})(k),v=a(18),g=function(e){function t(){var e,a;Object(o.a)(this,t);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).lockHandler=function(){a.props.storePassCode(),a.props.changeDisplayStatus("Locking..."),setTimeout(function(){a.props.changeDisplayStatus(""),a.props.changeLockStatus("Locked"),a.props.lockApp()},3e3)},a.unlockHandler=function(){a.props.changeDisplayStatus("Unlocking..."),setTimeout(function(){a.props.clearValue(),a.props.changeDisplayStatus("Ready"),a.props.changeLockStatus("Unlocked"),a.props.unlockApp()},3e3)},a.relockHandler=function(){a.props.changeDisplayStatus("Locking..."),setTimeout(function(){a.props.changeDisplayStatus(""),a.props.changeLockStatus("Locked"),a.props.lockApp(),a.props.clearValue()},3e3)},a.errorHandler=function(){a.props.changeDisplayStatus("Error"),a.props.clearValue(),a.props.unsetRequests()},a.validationRequestHandler=function(){a.props.changeDisplayStatus("Validating..."),setTimeout(function(){a.props.validateInput()},500)},a.serviceHandler=function(){a.props.changeDisplayStatus("Service"),a.props.clearValue()},a.masterHandler=function(){a.props.clearValue(),a.props.changeDisplayStatus("Validating..."),fetch("https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?code="+a.props.serviceCode).then(function(e){return e.json()}).then(function(e){console.log(e.sn),e.sn===a.props.serial?a.props.masterReset():a.props.changeDisplayStatus("")})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){!0===this.props.initializeLock&&this.props.initializeLock!==e.initializeLock?this.lockHandler():!0===this.props.initializeCheck&&this.props.initializeCheck!==e.initializeCheck?this.validationRequestHandler():!0===this.props.error&&this.props.error!==e.error?this.errorHandler():this.props.locked&&this.props.matching?this.unlockHandler():!0===this.props.initializeReLock&&this.props.initializeReLock!==e.initializeReLock?this.validationRequestHandler():this.props.initializeReLock&&this.props.matching?this.relockHandler():this.props.masterCode&&e.masterCode!==this.props.masterCode?this.serviceHandler():this.props.initializeAPI&&""===this.props.serviceCode?(this.props.requestInput(),console.log("pitaj api")):this.props.initializeAPI&&""!==this.props.serviceCode&&this.masterHandler()}},{key:"render",value:function(){return s.a.createElement("div",{className:"content"},s.a.createElement(b,null),s.a.createElement(m,null),s.a.createElement("p",{className:"align--right text--small"},"S/N:",this.props.serial))}}]),t}(i.Component),S=Object(v.a)(function(e){return{locked:e.validationReducer.locked,initializeLock:e.validationReducer.initializeLock,initializeReLock:e.validationReducer.initializeReLock,initializeCheck:e.validationReducer.initializeCheck,lockCode:e.validationReducer.lockCode,serial:e.validationReducer.serial,error:e.validationReducer.error,matching:e.validationReducer.matching,masterCode:e.validationReducer.masterCode,initializeAPI:e.validationReducer.initializeAPI,serviceCode:e.validationReducer}},function(e){return{changeDisplayBacklight:function(t){return e({type:"CHANGE_DISPLAY_BACKLIGHT",payload:t})},changeLockStatus:function(t){return e({type:"CHANGE_LOCKED_STATUS",payload:t})},changeDisplayStatus:function(t){return e({type:"CHANGE_DISPLAY_STATUS",payload:t})},stopTimer:function(){return e({type:"STOP_TIMER",payload:{timerName:"buttonTimer"}})},storePassCode:function(){return e({type:"SAVE_PASSCODE"})},validateInput:function(){return e({type:"VALIDATE_INPUT"})},lockApp:function(){return e({type:"LOCK"})},unlockApp:function(){return e({type:"UNLOCK"})},clearValue:function(){return e({type:"CLEAR"})},unsetRequests:function(){return e({type:"UNSET_REQUEST"})},requestInput:function(){return e({type:"GET_API_CODE"})},masterReset:function(){return e({type:"MASTER_RESET"})}}})(g),C=a(15),_=a(1),E={backgroundStatus:"",error:!1,lockStatus:"Unlocked",displayStatus:"Ready",displayValue:"",savedCode:"",validationRequest:!1,APIRequest:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRESS_KEY":var a,i;"Locking..."!==e.displayStatus&&"Validating..."!==e.displayStatus&&"Unlocking..."!==e.displayStatus?(a=t.payload.displayStatus,i=t.payload.displayValue):(a=e.displayStatus,i=""),e=Object(_.a)({},e,{displayStatus:a,displayValue:e.displayValue+=i,initUnlock:!1});break;case"CHANGE_DISPLAY_BACKLIGHT":e=Object(_.a)({},e,{backgroundStatus:t.payload});break;case"CHANGE_LOCKED_STATUS":e=Object(_.a)({},e,{lockStatus:t.payload});break;case"CHANGE_DISPLAY_STATUS":e=Object(_.a)({},e,{displayStatus:t.payload});break;case"SAVE_PASSCODE":e=Object(_.a)({},e,{savedCode:e.displayValue,displayValue:""});break;case"VALIDATE_INPUT":e=Object(_.a)({},e,{validationRequest:!0,backgroundStatus:"Validating..."});break;case"CLEAR":e=Object(_.a)({},e,{displayValue:"",validationRequest:!1,savedCode:"",APIRequest:!1});break;case"REQUEST_API":e=Object(_.a)({},e,{APIRequest:!0})}return e},A={locked:!1,initializeLock:!1,initializeReLock:!1,initializeCheck:!1,initializeAPI:!1,lockCode:"",serial:"4815162342",matching:!1,error:!1,masterCode:!1,serviceCode:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROCESS_INPUT":var a=!1,i=!1,s=!1,n=!1;e.masterCode?n=!0:e.locked||""===e.lockCode?!1===e.locked?a=!0:s=!0:i=!0,e=Object(_.a)({},e,{initializeCheck:s,initializeLock:a,initializeReLock:i,initializeAPI:n,error:!1,matching:!1});break;case"UNSET_REQUEST":e=Object(_.a)({},e,{initializeLock:!1,initializeCheck:!1,initializeReLock:!1});break;case"LOCK":e=Object(_.a)({},e,{locked:!0,error:!1,matching:!1});break;case"UNLOCK":e=Object(_.a)({},e,{locked:!1,error:!1,matching:!1,masterCode:!1});break;case"SAVE_CODE":e=Object(_.a)({},e,{lockCode:t.payload});break;case"VALIDATION":var r,o,l;e.locked&&""!==e.lockCode?e.lockCode===t.payload?(o=!1,l=!1,r=!0):"000000"===t.payload?(o=!1,l=!0,r=!1):(o=!0,l=!1,r=!1):e.locked||""===e.lockCode||(e.lockCode===t.payload?(o=!1,l=!1,r=!0):(o=!0,l=!1,r=!1)),e=Object(_.a)({},e,{error:o,masterCode:l,matching:r});break;case"GET_API_CODE":e=Object(_.a)({},e,{serviceCode:t.payload})}return e},T=a(26),O=a.n(T).a,I=Object(C.d)(Object(C.c)({displayReducer:R,validationReducer:f}),{},Object(C.a)(O));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(d.a,{store:I},s.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.2ee1a61b.chunk.js.map